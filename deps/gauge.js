// gauge@2.7.4
//
// Copyright (c) 2014, Rebecca Turner <me@re-becca.org>
//
// Permission to use, copy, modify, and/or distribute this software for any
// purpose with or without fee is hereby granted, provided that the above
// copyright notice and this permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
//
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).gauge=t()}}((function(){return function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[o]={exports:{}};e[o][0].call(l.exports,(function(t){return i(e[o][1][t]||t)}),l,l.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){"use strict";var r=t("./spin.js"),i=t("./progress-bar.js");e.exports={activityIndicator:function(t,e,n){if(null!=t.spun)return r(e,t.spun)},progressbar:function(t,e,n){if(null!=t.completed)return i(e,n,t.completed)}}},{"./progress-bar.js":20,"./spin.js":24}],2:[function(t,e,n){"use strict";var r=t("util"),i=n.User=function t(e){var n=new Error(e);return Error.captureStackTrace(n,t),n.code="EGAUGE",n};n.MissingTemplateValue=function t(e,n){var s=new i(r.format('Missing template value "%s"',e.type));return Error.captureStackTrace(s,t),s.template=e,s.values=n,s},n.Internal=function t(e){var n=new Error(e);return Error.captureStackTrace(n,t),n.code="EGAUGEINTERNAL",n}},{util:void 0}],3:[function(t,e,n){"use strict";e.exports="win32"===process.platform||!!process.env.COLORTERM||/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)},{}],4:[function(t,e,n){"use strict";var r=t("./plumbing.js"),i=t("has-unicode"),s=t("./has-color.js"),o=t("signal-exit"),a=t("./themes"),u=t("./set-interval.js"),h=t("./process.js"),l=t("./set-immediate");function c(t,e){return function(){return e.call(t)}}function f(t,e){var n,i;t&&t.write?(i=t,n=e||{}):e&&e.write?(i=e,n=t||{}):(i=h.stderr,n=t||e||{}),this._status={spun:0,section:"",subsection:""},this._paused=!1,this._disabled=!0,this._showing=!1,this._onScreen=!1,this._needsRedraw=!1,this._hideCursor=null==n.hideCursor||n.hideCursor,this._fixedFramerate=null==n.fixedFramerate?!/^v0\.8\./.test(h.version):n.fixedFramerate,this._lastUpdateAt=null,this._updateInterval=null==n.updateInterval?50:n.updateInterval,this._themes=n.themes||a,this._theme=n.theme;var s=this._computeTheme(n.theme),o=n.template||[{type:"progressbar",length:20},{type:"activityIndicator",kerning:1,length:1},{type:"section",kerning:1,default:""},{type:"subsection",kerning:1,default:""}];this.setWriteTo(i,n.tty);var u=n.Plumbing||r;this._gauge=new u(s,o,this.getWidth()),this._$$doRedraw=c(this,this._doRedraw),this._$$handleSizeChange=c(this,this._handleSizeChange),this._cleanupOnExit=null==n.cleanupOnExit||n.cleanupOnExit,this._removeOnExit=null,n.enabled||null==n.enabled&&this._tty&&this._tty.isTTY?this.enable():this.disable()}e.exports=f,f.prototype={},f.prototype.isEnabled=function(){return!this._disabled},f.prototype.setTemplate=function(t){this._gauge.setTemplate(t),this._showing&&this._requestRedraw()},f.prototype._computeTheme=function(t){if(t||(t={}),"string"==typeof t)t=this._themes.getTheme(t);else if(t&&(0===Object.keys(t).length||null!=t.hasUnicode||null!=t.hasColor)){var e=null==t.hasUnicode?i():t.hasUnicode,n=null==t.hasColor?s:t.hasColor;t=this._themes.getDefault({hasUnicode:e,hasColor:n,platform:t.platform})}return t},f.prototype.setThemeset=function(t){this._themes=t,this.setTheme(this._theme)},f.prototype.setTheme=function(t){this._gauge.setTheme(this._computeTheme(t)),this._showing&&this._requestRedraw(),this._theme=t},f.prototype._requestRedraw=function(){this._needsRedraw=!0,this._fixedFramerate||this._doRedraw()},f.prototype.getWidth=function(){return(this._tty&&this._tty.columns||80)-1},f.prototype.setWriteTo=function(t,e){var n=!this._disabled;n&&this.disable(),this._writeTo=t,this._tty=e||t===h.stderr&&h.stdout.isTTY&&h.stdout||t.isTTY&&t||this._tty,this._gauge&&this._gauge.setWidth(this.getWidth()),n&&this.enable()},f.prototype.enable=function(){this._disabled&&(this._disabled=!1,this._tty&&this._enableEvents(),this._showing&&this.show())},f.prototype.disable=function(){this._disabled||(this._showing&&(this._lastUpdateAt=null,this._showing=!1,this._doRedraw(),this._showing=!0),this._disabled=!0,this._tty&&this._disableEvents())},f.prototype._enableEvents=function(){this._cleanupOnExit&&(this._removeOnExit=o(c(this,this.disable))),this._tty.on("resize",this._$$handleSizeChange),this._fixedFramerate&&(this.redrawTracker=u(this._$$doRedraw,this._updateInterval),this.redrawTracker.unref&&this.redrawTracker.unref())},f.prototype._disableEvents=function(){this._tty.removeListener("resize",this._$$handleSizeChange),this._fixedFramerate&&clearInterval(this.redrawTracker),this._removeOnExit&&this._removeOnExit()},f.prototype.hide=function(t){return this._disabled?t&&h.nextTick(t):this._showing?(this._showing=!1,this._doRedraw(),void(t&&l(t))):t&&h.nextTick(t)},f.prototype.show=function(t,e){if(this._showing=!0,"string"==typeof t)this._status.section=t;else if("object"==typeof t)for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];this._status[i]=t[i]}null!=e&&(this._status.completed=e),this._disabled||this._requestRedraw()},f.prototype.pulse=function(t){this._status.subsection=t||"",this._status.spun++,this._disabled||this._showing&&this._requestRedraw()},f.prototype._handleSizeChange=function(){this._gauge.setWidth(this._tty.columns-1),this._requestRedraw()},f.prototype._doRedraw=function(){if(!this._disabled&&!this._paused){if(!this._fixedFramerate){var t=Date.now();if(this._lastUpdateAt&&t-this._lastUpdateAt<this._updateInterval)return;this._lastUpdateAt=t}if(!this._showing&&this._onScreen){this._onScreen=!1;var e=this._gauge.hide();return this._hideCursor&&(e+=this._gauge.showCursor()),this._writeTo.write(e)}(this._showing||this._onScreen)&&(this._showing&&!this._onScreen&&(this._onScreen=!0,this._needsRedraw=!0,this._hideCursor&&this._writeTo.write(this._gauge.hideCursor())),this._needsRedraw&&(this._writeTo.write(this._gauge.show(this._status))||(this._paused=!0,this._writeTo.on("drain",c(this,(function(){this._paused=!1,this._doRedraw()}))))))}}},{"./has-color.js":3,"./plumbing.js":18,"./process.js":19,"./set-immediate":22,"./set-interval.js":23,"./themes":27,"has-unicode":9,"signal-exit":13}],5:[function(t,e,n){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},{}],6:[function(t,e,n){"use strict";var r={"*":{label:"any",check:function(){return!0}},A:{label:"array",check:function(t){return Array.isArray(t)||function(t){return null!=t&&"object"==typeof t&&t.hasOwnProperty("callee")}(t)}},S:{label:"string",check:function(t){return"string"==typeof t}},N:{label:"number",check:function(t){return"number"==typeof t}},F:{label:"function",check:function(t){return"function"==typeof t}},O:{label:"object",check:function(t){return"object"==typeof t&&null!=t&&!r.A.check(t)&&!r.E.check(t)}},B:{label:"boolean",check:function(t){return"boolean"==typeof t}},E:{label:"error",check:function(t){return t instanceof Error}},Z:{label:"null",check:function(t){return null==t}}};function i(t,e){var n=e[t.length]=e[t.length]||[];-1===n.indexOf(t)&&n.push(t)}var s=e.exports=function(t,e){if(2!==arguments.length)throw l(["SA"],arguments.length);if(!t)throw o(0);if(!e)throw o(1);if(!r.S.check(t))throw u(0,["string"],t);if(!r.A.check(e))throw u(1,["array"],e);var n=t.split("|"),s={};n.forEach((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(!r[n])throw a(e,n)}if(/E.*E/.test(t))throw c(t);i(t,s),/E/.test(t)&&(i(t.replace(/E.*$/,"E"),s),i(t.replace(/E/,"Z"),s),1===t.length&&i("",s))}));var h=s[e.length];if(!h)throw l(Object.keys(s),e.length);for(var f=0;f<e.length;++f){var p=h.filter((function(t){var n=t[f];return(0,r[n].check)(e[f])}));if(!p.length){var g=h.map((function(t){return r[t[f]].label})).filter((function(t){return null!=t}));throw u(f,g,e[f])}h=p}};function o(t){return f("EMISSINGARG","Missing required argument #"+(t+1))}function a(t,e){return f("EUNKNOWNTYPE","Unknown type "+e+" in argument #"+(t+1))}function u(t,e,n){var i;return Object.keys(r).forEach((function(t){r[t].check(n)&&(i=r[t].label)})),f("EINVALIDTYPE","Argument #"+(t+1)+": Expected "+h(e)+" but got "+i)}function h(t){return t.join(", ").replace(/, ([^,]+)$/," or $1")}function l(t,e){return f("EWRONGARGCOUNT","Expected "+h(t)+" "+(t.every((function(t){return 1===t.length}))?"argument":"arguments")+" but got "+e)}function c(t){return f("ETOOMANYERRORTYPES",'Only one error type per argument signature is allowed, more than one found in "'+t+'"')}function f(t,e){var n=new Error(e);return n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,s),n}},{}],7:[function(t,e,n){"use strict";e.exports=function(t,e){if(null==t)throw TypeError();var n=(t=String(t)).length,r=e?Number(e):0;if(Number.isNaN(r)&&(r=0),!(r<0||r>=n)){var i=t.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var s=t.charCodeAt(r+1);if(s>=56320&&s<=57343)return 1024*(i-55296)+s-56320+65536}return i}}},{}],8:[function(t,e,n){"use strict";n.up=function(t){return"["+(t||"")+"A"},n.down=function(t){return"["+(t||"")+"B"},n.forward=function(t){return"["+(t||"")+"C"},n.back=function(t){return"["+(t||"")+"D"},n.nextLine=function(t){return"["+(t||"")+"E"},n.previousLine=function(t){return"["+(t||"")+"F"},n.horizontalAbsolute=function(t){if(null==t)throw new Error("horizontalAboslute requires a column to position to");return"["+t+"G"},n.eraseData=function(){return"[J"},n.eraseLine=function(){return"[K"},n.goto=function(t,e){return"["+e+";"+t+"H"},n.gotoSOL=function(){return"\r"},n.beep=function(){return""},n.hideCursor=function(){return"[?25l"},n.showCursor=function(){return"[?25h"};var r={reset:0,bold:1,italic:3,underline:4,inverse:7,stopBold:22,stopItalic:23,stopUnderline:24,stopInverse:27,white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,bgWhite:47,bgBlack:40,bgBlue:44,bgCyan:46,bgGreen:42,bgMagenta:45,bgRed:41,bgYellow:43,grey:90,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97,bgGrey:100,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107};function i(t){if(null!=r[t])return r[t];throw new Error("Unknown color or style name: "+t)}n.color=function(t){return 1===arguments.length&&Array.isArray(t)||(t=Array.prototype.slice.call(arguments)),"["+t.map(i).join(";")+"m"}},{}],9:[function(t,e,n){"use strict";var r=t("os");e.exports=function(){if("Windows_NT"==r.type())return!1;var t=process.env.LC_ALL||process.env.LC_CTYPE||process.env.LANG;return/UTF-?8$/i.test(t)}},{os:void 0}],10:[function(t,e,n){"use strict";var r=t("number-is-nan");e.exports=function(t){return!r(t)&&(t>=4352&&(t<=4447||9001===t||9002===t||11904<=t&&t<=12871&&12351!==t||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141))}},{"number-is-nan":11}],11:[function(t,e,n){"use strict";e.exports=Number.isNaN||function(t){return t!=t}},{}],12:[function(t,e,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=o(t),h=1;h<arguments.length;h++){for(var l in n=Object(arguments[h]))i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)s.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},{}],13:[function(t,e,n){var r,i=t("assert"),s=t("./signals.js"),o=/^win/i.test(process.platform),a=t("events");function u(){c&&(c=!1,s.forEach((function(t){try{process.removeListener(t,l[t])}catch(t){}})),process.emit=d,process.reallyExit=p,r.count-=1)}function h(t,e,n){r.emitted[t]||(r.emitted[t]=!0,r.emit(t,e,n))}"function"!=typeof a&&(a=a.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new a).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(t,e){i.equal(typeof t,"function","a callback must be provided for exit handler"),!1===c&&f();var n="exit";e&&e.alwaysLast&&(n="afterexit");return r.on(n,t),function(){r.removeListener(n,t),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&u()}},e.exports.unload=u;var l={};s.forEach((function(t){l[t]=function(){process.listeners(t).length===r.count&&(u(),h("exit",null,t),h("afterexit",null,t),o&&"SIGHUP"===t&&(t="SIGINT"),process.kill(process.pid,t))}})),e.exports.signals=function(){return s},e.exports.load=f;var c=!1;function f(){c||(c=!0,r.count+=1,s=s.filter((function(t){try{return process.on(t,l[t]),!0}catch(t){return!1}})),process.emit=m,process.reallyExit=g)}var p=process.reallyExit;function g(t){process.exitCode=t||0,h("exit",process.exitCode,null),h("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var d=process.emit;function m(t,e){if("exit"===t){void 0!==e&&(process.exitCode=e);var n=d.apply(this,arguments);return h("exit",process.exitCode,null),h("afterexit",process.exitCode,null),n}return d.apply(this,arguments)}},{"./signals.js":14,assert:void 0,events:void 0}],14:[function(t,e,n){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},{}],15:[function(t,e,n){"use strict";var r=t("strip-ansi"),i=t("code-point-at"),s=t("is-fullwidth-code-point");e.exports=function(t){if("string"!=typeof t||0===t.length)return 0;var e=0;t=r(t);for(var n=0;n<t.length;n++){var o=i(t,n);o<=31||o>=127&&o<=159||(o>=65536&&n++,s(o)?e+=2:e++)}return e}},{"code-point-at":7,"is-fullwidth-code-point":10,"strip-ansi":16}],16:[function(t,e,n){"use strict";var r=t("ansi-regex")();e.exports=function(t){return"string"==typeof t?t.replace(r,""):t}},{"ansi-regex":5}],17:[function(t,e,n){"use strict";var r=t("string-width");function i(t){var e="",n=" ",r=t;do{r%2&&(e+=n),r=Math.floor(r/2),n+=n}while(r);return e}n.center=function(t,e){var n=t.trim();if(0===n.length&&t.length>=e)return t;var s="",o="",a=r(n);if(a<e){var u=parseInt((e-a)/2,10);s=i(u),o=i(e-(a+u))}return s+n+o},n.left=function(t,e){var n=t.trimRight();if(0===n.length&&t.length>=e)return t;var s="",o=r(n);o<e&&(s=i(e-o));return n+s},n.right=function(t,e){var n=t.trimLeft();if(0===n.length&&t.length>=e)return t;var s="",o=r(n);o<e&&(s=i(e-o));return s+n}},{"string-width":15}],18:[function(t,e,n){"use strict";var r=t("console-control-strings"),i=t("./render-template.js"),s=t("aproba"),o=e.exports=function(t,e,n){n||(n=80),s("OAN",[t,e,n]),this.showing=!1,this.theme=t,this.width=n,this.template=e};o.prototype={},o.prototype.setTheme=function(t){s("O",[t]),this.theme=t},o.prototype.setTemplate=function(t){s("A",[t]),this.template=t},o.prototype.setWidth=function(t){s("N",[t]),this.width=t},o.prototype.hide=function(){return r.gotoSOL()+r.eraseLine()},o.prototype.hideCursor=r.hideCursor,o.prototype.showCursor=r.showCursor,o.prototype.show=function(t){var e=Object.create(this.theme);for(var n in t)e[n]=t[n];return i(this.width,this.template,e).trim()+r.color("reset")+r.eraseLine()+r.gotoSOL()}},{"./render-template.js":21,aproba:6,"console-control-strings":8}],19:[function(t,e,n){"use strict";e.exports=process},{}],20:[function(t,e,n){"use strict";var r=t("aproba"),i=t("./render-template.js"),s=t("./wide-truncate"),o=t("string-width");function a(t,e){var n="",r=e;do{r%2&&(n+=t),r=Math.floor(r/2),t+=t}while(r&&o(n)<e);return s(n,e)}e.exports=function(t,e,n){if(r("ONN",[t,e,n]),n<0&&(n=0),n>1&&(n=1),e<=0)return"";var s=Math.round(e*n),o=e-s,u=[{type:"complete",value:a(t.complete,s),length:s},{type:"remaining",value:a(t.remaining,o),length:o}];return i(e,u,t)}},{"./render-template.js":21,"./wide-truncate":28,aproba:6,"string-width":15}],21:[function(t,e,n){"use strict";var r=t("wide-align"),i=t("aproba"),s=t("object-assign"),o=t("./wide-truncate"),a=t("./error"),u=t("./template-item");function h(t){return function(e){return function(t,e){var n=t.getBaseLength(),s="function"==typeof t.value?function(t,e,n){return i("OON",arguments),t.type?t.value(e,e[t.type+"Theme"]||{},n):t.value(e,{},n)}(t,e,n):t.value;if(null==s||""===s)return"";var a=r[t.align]||r.left,u=t.padLeft?r.left("",t.padLeft):"",h=t.padRight?r.right("",t.padRight):"",l=o(String(s),n),c=a(l,n);return u+c+h}(e,t)}}var l=e.exports=function(t,e,n){var i=function(t,e,n){var r=e.map((function(e,r,i){var o=new u(e,t),h=o.type;if(null==o.value)if(h in n)o.value=n[h];else{if(null==o.default)throw new a.MissingTemplateValue(o,n);o.value=o.default}return null==o.value||""===o.value?null:(o.index=r,o.first=0===r,o.last=r===i.length-1,function(t,e){if(!t.type)return;return e[c(t)]||e[f(t)]}(o,n)&&(o.value=function(t,e){var n=s({},t),r=Object.create(e),i=[],o=c(n),a=f(n);r[o]&&(i.push({value:r[o]}),r[o]=null);n.minLength=null,n.length=null,n.maxLength=null,i.push(n),r[n.type]=r[n.type],r[a]&&(i.push({value:r[a]}),r[a]=null);return function(t,e,n){return l(n,i,r)}}(o,n)),o)})).filter((function(t){return null!=t})),i=t,o=r.length;function h(t,e){if(t.finished)throw new a.Internal("Tried to finish template item that was already finished");if(e===1/0)throw new a.Internal("Length of template item cannot be infinity");if(null!=e&&(t.length=e),t.minLength=null,t.maxLength=null,--o,t.finished=!0,null==t.length&&(t.length=t.getBaseLength()),null==t.length)throw new a.Internal("Finished template items must have a length");!function(t){t>i&&(t=i),t,i-=t}(t.getLength())}r.forEach((function(t){if(t.kerning){var e=t.first?0:r[t.index-1].padRight;!t.first&&e<t.kerning&&(t.padLeft=t.kerning-e),t.last||(t.padRight=t.kerning)}})),r.forEach((function(t){null!=t.getBaseLength()&&h(t)}));var p,g,d=0;do{p=!1,g=Math.round(i/o),r.forEach((function(t){t.finished||t.maxLength&&t.getMaxLength()<g&&(h(t,t.maxLength),p=!0)}))}while(p&&d++<r.length);if(p)throw new a.Internal("Resize loop iterated too many times while determining maxLength");d=0;do{p=!1,g=Math.round(i/o),r.forEach((function(t){t.finished||t.minLength&&t.getMinLength()>=g&&(h(t,t.minLength),p=!0)}))}while(p&&d++<r.length);if(p)throw new a.Internal("Resize loop iterated too many times while determining minLength");return g=Math.round(i/o),r.forEach((function(t){t.finished||h(t,g)})),r}(t,e,n).map(h(n)).join("");return r.left(o(i,t),t)};function c(t){return"pre"+(t.type[0].toUpperCase()+t.type.slice(1))}function f(t){return"post"+(t.type[0].toUpperCase()+t.type.slice(1))}},{"./error":2,"./template-item":25,"./wide-truncate":28,aproba:6,"object-assign":12,"wide-align":17}],22:[function(t,e,n){"use strict";var r=t("./process");try{e.exports=setImmediate}catch(t){e.exports=r.nextTick}},{"./process":19}],23:[function(t,e,n){"use strict";e.exports=setInterval},{}],24:[function(t,e,n){"use strict";e.exports=function(t,e){return t[e%t.length]}},{}],25:[function(t,e,n){"use strict";var r=t("string-width");function i(t){return"string"==typeof t&&"%"===t.slice(-1)}function s(t){return Number(t.slice(0,-1))/100}function o(t,e){if(this.overallOutputLength=e,this.finished=!1,this.type=null,this.value=null,this.length=null,this.maxLength=null,this.minLength=null,this.kerning=null,this.align="left",this.padLeft=0,this.padRight=0,this.index=null,this.first=null,this.last=null,"string"==typeof t)this.value=t;else for(var n in t)this[n]=t[n];return i(this.length)&&(this.length=Math.round(this.overallOutputLength*s(this.length))),i(this.minLength)&&(this.minLength=Math.round(this.overallOutputLength*s(this.minLength))),i(this.maxLength)&&(this.maxLength=Math.round(this.overallOutputLength*s(this.maxLength))),this}e.exports=o,o.prototype={},o.prototype.getBaseLength=function(){var t=this.length;return null==t&&"string"==typeof this.value&&null==this.maxLength&&null==this.minLength&&(t=r(this.value)),t},o.prototype.getLength=function(){var t=this.getBaseLength();return null==t?null:t+this.padLeft+this.padRight},o.prototype.getMaxLength=function(){return null==this.maxLength?null:this.maxLength+this.padLeft+this.padRight},o.prototype.getMinLength=function(){return null==this.minLength?null:this.minLength+this.padLeft+this.padRight}},{"string-width":15}],26:[function(t,e,n){"use strict";var r=t("object-assign");e.exports=function(){return i.newThemeSet()};var i={};i.baseTheme=t("./base-theme.js"),i.newTheme=function(t,e){return e||(e=t,t=this.baseTheme),r({},t,e)},i.getThemeNames=function(){return Object.keys(this.themes)},i.addTheme=function(t,e,n){this.themes[t]=this.newTheme(e,n)},i.addToAllThemes=function(t){var e=this.themes;Object.keys(e).forEach((function(n){r(e[n],t)})),r(this.baseTheme,t)},i.getTheme=function(t){if(!this.themes[t])throw this.newMissingThemeError(t);return this.themes[t]},i.setDefault=function(t,e){null==e&&(e=t,t={});var n=null==t.platform?"fallback":t.platform,r=!!t.hasUnicode,i=!!t.hasColor;this.defaults[n]||(this.defaults[n]={true:{},false:{}}),this.defaults[n][r][i]=e},i.getDefault=function(t){t||(t={});var e=t.platform||process.platform,n=this.defaults[e]||this.defaults.fallback,i=!!t.hasUnicode,s=!!t.hasColor;if(!n)throw this.newMissingDefaultThemeError(e,i,s);if(!n[i][s])if(i&&s&&n[!i][s])i=!1;else if(i&&s&&n[i][!s])s=!1;else if(i&&s&&n[!i][!s])i=!1,s=!1;else if(i&&!s&&n[!i][s])i=!1;else if(!i&&s&&n[i][!s])s=!1;else if(n===this.defaults.fallback)throw this.newMissingDefaultThemeError(e,i,s);return n[i][s]?this.getTheme(n[i][s]):this.getDefault(r({},t,{platform:"fallback"}))},i.newMissingThemeError=function t(e){var n=new Error('Could not find a gauge theme named "'+e+'"');return Error.captureStackTrace.call(n,t),n.theme=e,n.code="EMISSINGTHEME",n},i.newMissingDefaultThemeError=function t(e,n,r){var i=new Error("Could not find a gauge theme for your platform/unicode/color use combo:\n    platform = "+e+"\n    hasUnicode = "+n+"\n    hasColor = "+r);return Error.captureStackTrace.call(i,t),i.platform=e,i.hasUnicode=n,i.hasColor=r,i.code="EMISSINGTHEME",i},i.newThemeSet=function(){var t=function(e){return t.getDefault(e)};return r(t,i,{themes:r({},this.themes),baseTheme:r({},this.baseTheme),defaults:JSON.parse(JSON.stringify(this.defaults||{}))})}},{"./base-theme.js":1,"object-assign":12}],27:[function(t,e,n){"use strict";var r=t("console-control-strings"),i=t("./theme-set.js"),s=e.exports=new i;s.addTheme("ASCII",{preProgressbar:"[",postProgressbar:"]",progressbarTheme:{complete:"#",remaining:"."},activityIndicatorTheme:"-\\|/",preSubsection:">"}),s.addTheme("colorASCII",s.getTheme("ASCII"),{progressbarTheme:{preComplete:r.color("inverse"),complete:" ",postComplete:r.color("stopInverse"),preRemaining:r.color("brightBlack"),remaining:".",postRemaining:r.color("reset")}}),s.addTheme("brailleSpinner",{preProgressbar:"⸨",postProgressbar:"⸩",progressbarTheme:{complete:"░",remaining:"⠂"},activityIndicatorTheme:"⠋⠙⠹⠸⠼⠴⠦⠧⠇⠏",preSubsection:">"}),s.addTheme("colorBrailleSpinner",s.getTheme("brailleSpinner"),{progressbarTheme:{preComplete:r.color("inverse"),complete:" ",postComplete:r.color("stopInverse"),preRemaining:r.color("brightBlack"),remaining:"░",postRemaining:r.color("reset")}}),s.setDefault({},"ASCII"),s.setDefault({hasColor:!0},"colorASCII"),s.setDefault({platform:"darwin",hasUnicode:!0},"brailleSpinner"),s.setDefault({platform:"darwin",hasUnicode:!0,hasColor:!0},"colorBrailleSpinner")},{"./theme-set.js":26,"console-control-strings":8}],28:[function(t,e,n){"use strict";var r=t("string-width"),i=t("strip-ansi");e.exports=function(t,e){if(0===r(t))return t;if(e<=0)return"";if(r(t)<=e)return t;var n=i(t),s=t.length+n.length,o=t.slice(0,e+s);for(;r(o)>e;)o=o.slice(0,-1);return o}},{"string-width":15,"strip-ansi":16}]},{},[4])(4)}));